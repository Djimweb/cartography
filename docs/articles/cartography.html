<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to cartography • cartography</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to cartography">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cartography</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/cartography.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/cheatsheet.html">Thematic Maps with cartography :: CHEAT SHEET</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/riatelab/cartography">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to cartography</h1>
                        <h4 class="author">Timothée Giraud, Nicolas Lambert</h4>
            
            <h4 class="date">2019-01-21</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/riatelab/cartography/blob/master/vignettes/cartography.Rmd"><code>vignettes/cartography.Rmd</code></a></small>
      <div class="hidden name"><code>cartography.Rmd</code></div>

    </div>

    
    
<div id="design" class="section level1">
<h1 class="hasAnchor">
<a href="#design" class="anchor"></a>Design</h1>
<p>The aim of <code>cartography</code> is to obtain thematic maps with the visual quality of those build with other common mapping and GIS software.</p>
<p>Users of the package could belong to one of two categories: cartographers willing to use R or R users willing to create maps. Therefore, its functions have to be intuitive to cartographers and ensure compatibility with common R workflows.</p>
<p><code>cartography</code> uses <code>sf</code> or <code>sp</code> objects to produces <code>base</code> graphics. As most of the internals of the package relies on <code>sf</code> functionnalities, the prefered format for spatial objects is <code>sf</code>.</p>
<p><code>cartography</code>’s functions can be classified in the following categories :</p>
<ul>
<li>Symbology<br>
</li>
<li>Legends<br>
</li>
<li>Transformations</li>
<li>Map Layout<br>
</li>
<li>Color Palettes</li>
</ul>
<div id="symbology" class="section level2">
<h2 class="hasAnchor">
<a href="#symbology" class="anchor"></a>Symbology</h2>
<p><em><code>*Layer()</code> functions</em><br>
Each function focuses on a single cartographic representation (e.g. proportional symbols or choropleth representation) and displays it on a georeferenced plot. This solution allows to consider each representation as a layer and to overlay multiple representations on a same map.</p>
<p>Each function has two main arguments that are:</p>
<ul>
<li>
<code>x</code>, a spatial object (preferably an <code>sf</code> object),<br>
</li>
<li>
<code>var</code>, the name of a variable to map.</li>
</ul>
<p><code>sp</code> objects are handled through the <code>spdf</code> argument if the variable is contained within the <code>Spatial*DataFrame</code> and through <code>spdf</code>, <code>spdfid</code>, <code>df</code>, <code>dfid</code> if the variable is in a separate <code>data.frame</code> that needs to be joined to the <code>Spatial*DataFrame</code>.</p>
<p>Many parameters are available to fine tune the cartographic representation. These parameters are the common ones found in GIS and automatic cartography software (e.g. classification and color palettes used in choropleth maps, symbols sizes used in proportional symbols maps…).</p>
</div>
<div id="legends" class="section level2">
<h2 class="hasAnchor">
<a href="#legends" class="anchor"></a>Legends</h2>
<p><em><code>legend*()</code> functions</em><br>
Legends are displayed by default along cartographic layerd but more parameters are available through <code>legend*()</code> functions.</p>
</div>
<div id="transformations" class="section level2">
<h2 class="hasAnchor">
<a href="#transformations" class="anchor"></a>Transformations</h2>
<p><em><code>get*()</code> functions</em><br>
A set of functions is dedicated to the creation or transformation of spatial objects (e.g. borders extraction, grid or links creation). These functions are provided to ease the creation of some more advanced maps that usually need geo-processing.</p>
</div>
<div id="map-layout" class="section level2">
<h2 class="hasAnchor">
<a href="#map-layout" class="anchor"></a>Map Layout</h2>
<p>Along with the cartographic functions, some other functions are dedicated to layout design (e.g. customizable scale bar, north arrow, title, sources or author information…).</p>
</div>
<div id="color-palettes" class="section level2">
<h2 class="hasAnchor">
<a href="#color-palettes" class="anchor"></a>Color Palettes</h2>
<p>16 original color palettes are shipped within the package. Those palettes can be sustomized and combined.</p>
</div>
</div>
<div id="examples-of-thematic-maps" class="section level1">
<h1 class="hasAnchor">
<a href="#examples-of-thematic-maps" class="anchor"></a>Examples of thematic maps</h1>
<div id="label-map" class="section level2">
<h2 class="hasAnchor">
<a href="#label-map" class="anchor"></a>Label Map</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(sf)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">## Linking to GEOS 3.5.1, GDAL 2.1.2, PROJ 4.9.3</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(cartography)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co"># path to the ESRI Shapefile embedded in cartography</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">path_to_file &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"shape/martinique.shp"</span>, <span class="dt">package=</span><span class="st">"cartography"</span>)</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="co"># import the Shapefile to a sf object</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7">mtq &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_read">st_read</a></span>(<span class="dt">dsn =</span> path_to_file, <span class="dt">quiet =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="co"># plot communes</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/plot">plot</a></span>(</a>
<a class="sourceLine" id="cb1-10" data-line-number="10">  <span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_geometry">st_geometry</a></span>(mtq), </a>
<a class="sourceLine" id="cb1-11" data-line-number="11">  <span class="dt">col =</span> <span class="st">"darkseagreen3"</span>, </a>
<a class="sourceLine" id="cb1-12" data-line-number="12">  <span class="dt">border =</span> <span class="st">"darkseagreen4"</span>, </a>
<a class="sourceLine" id="cb1-13" data-line-number="13">  <span class="dt">bg =</span> <span class="st">"lightblue1"</span>, </a>
<a class="sourceLine" id="cb1-14" data-line-number="14">  <span class="dt">lwd =</span> <span class="fl">0.5</span></a>
<a class="sourceLine" id="cb1-15" data-line-number="15">)</a>
<a class="sourceLine" id="cb1-16" data-line-number="16"><span class="co"># Label plot of the communes names</span></a>
<a class="sourceLine" id="cb1-17" data-line-number="17"><span class="kw"><a href="../reference/labelLayer.html">labelLayer</a></span>(</a>
<a class="sourceLine" id="cb1-18" data-line-number="18">  <span class="dt">x =</span> mtq, </a>
<a class="sourceLine" id="cb1-19" data-line-number="19">  <span class="dt">txt =</span> <span class="st">"LIBGEO"</span>, </a>
<a class="sourceLine" id="cb1-20" data-line-number="20">  <span class="dt">col=</span> <span class="st">"black"</span>, </a>
<a class="sourceLine" id="cb1-21" data-line-number="21">  <span class="dt">cex =</span> <span class="fl">0.7</span>, </a>
<a class="sourceLine" id="cb1-22" data-line-number="22">  <span class="dt">font =</span> <span class="dv">4</span>,</a>
<a class="sourceLine" id="cb1-23" data-line-number="23">  <span class="dt">halo =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb1-24" data-line-number="24">  <span class="dt">bg =</span> <span class="st">"white"</span>, </a>
<a class="sourceLine" id="cb1-25" data-line-number="25">  <span class="dt">r =</span> <span class="fl">0.1</span>, </a>
<a class="sourceLine" id="cb1-26" data-line-number="26">  <span class="dt">overlap =</span> <span class="ot">FALSE</span>, </a>
<a class="sourceLine" id="cb1-27" data-line-number="27">  <span class="dt">show.lines =</span> <span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb1-28" data-line-number="28">)</a>
<a class="sourceLine" id="cb1-29" data-line-number="29"><span class="co"># map layout</span></a>
<a class="sourceLine" id="cb1-30" data-line-number="30"><span class="kw"><a href="../reference/layoutLayer.html">layoutLayer</a></span>(</a>
<a class="sourceLine" id="cb1-31" data-line-number="31">  <span class="dt">title =</span> <span class="st">"Communes of Martinique"</span>, </a>
<a class="sourceLine" id="cb1-32" data-line-number="32">  <span class="dt">sources =</span> <span class="st">"INSEE 2016"</span>,  </a>
<a class="sourceLine" id="cb1-33" data-line-number="33">  <span class="dt">author =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(<span class="st">"cartography "</span>, <span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/packageDescription">packageVersion</a></span>(<span class="st">"cartography"</span>)), </a>
<a class="sourceLine" id="cb1-34" data-line-number="34">  <span class="dt">frame =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb1-35" data-line-number="35">  <span class="dt">north =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb1-36" data-line-number="36">  <span class="dt">tabtitle =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb1-37" data-line-number="37">) </a></code></pre></div>
<p><img src="cartography_files/figure-html/labelMap-1.png" width="360"></p>
</div>
<div id="choropleth-map" class="section level2">
<h2 class="hasAnchor">
<a href="#choropleth-map" class="anchor"></a>Choropleth Map</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(sf)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(cartography)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co"># path to the ESRI Shapefile embedded in cartography</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">path_to_file &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"shape/martinique.shp"</span>, <span class="dt">package=</span><span class="st">"cartography"</span>)</a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co"># import the Shapefile to a sf object</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">mtq &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_read">st_read</a></span>(<span class="dt">dsn =</span> path_to_file, <span class="dt">quiet =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co"># Compute the population density (inhab./km2) using sf::st_area()</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8">mtq<span class="op">$</span>POP_DENS &lt;-<span class="st"> </span><span class="dv">1000</span><span class="op">*</span><span class="dv">1000</span> <span class="op">*</span><span class="st"> </span>mtq<span class="op">$</span>P13_POP <span class="op">/</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/geos_measures">st_area</a></span>(mtq)</a>
<a class="sourceLine" id="cb2-9" data-line-number="9"></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co"># Set a custom color palette</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11">cols &lt;-<span class="st"> </span><span class="kw"><a href="../reference/carto.pal.html">carto.pal</a></span>(<span class="dt">pal1 =</span> <span class="st">"sand.pal"</span>, <span class="dt">n1 =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co"># plot communes (only the backgroung color is plotted)</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/plot">plot</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_geometry">st_geometry</a></span>(mtq), <span class="dt">col =</span> <span class="ot">NA</span>, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">bg =</span> <span class="st">"lightblue1"</span>)</a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="co"># Plot the population density</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="kw"><a href="../reference/choroLayer.html">choroLayer</a></span>(</a>
<a class="sourceLine" id="cb2-16" data-line-number="16">  <span class="dt">x =</span> mtq, </a>
<a class="sourceLine" id="cb2-17" data-line-number="17">  <span class="dt">var =</span> <span class="st">"POP_DENS"</span>,</a>
<a class="sourceLine" id="cb2-18" data-line-number="18">  <span class="dt">method =</span> <span class="st">"geom"</span>,</a>
<a class="sourceLine" id="cb2-19" data-line-number="19">  <span class="dt">nclass=</span><span class="dv">5</span>,</a>
<a class="sourceLine" id="cb2-20" data-line-number="20">  <span class="dt">col =</span> cols,</a>
<a class="sourceLine" id="cb2-21" data-line-number="21">  <span class="dt">border =</span> <span class="st">"grey40"</span>, </a>
<a class="sourceLine" id="cb2-22" data-line-number="22">  <span class="dt">lwd =</span> <span class="fl">0.5</span>,</a>
<a class="sourceLine" id="cb2-23" data-line-number="23">  <span class="dt">legend.pos =</span> <span class="st">"topright"</span>, </a>
<a class="sourceLine" id="cb2-24" data-line-number="24">  <span class="dt">legend.title.txt =</span> <span class="st">"Population Density</span><span class="ch">\n</span><span class="st">(people per km2)"</span>,</a>
<a class="sourceLine" id="cb2-25" data-line-number="25">  <span class="dt">add =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb2-26" data-line-number="26">) </a>
<a class="sourceLine" id="cb2-27" data-line-number="27"><span class="co"># http://webhelp.esri.com/arcgisdesktop/9.2/index.cfm?topicname=geometrical_interval</span></a>
<a class="sourceLine" id="cb2-28" data-line-number="28"><span class="kw"><a href="../reference/layoutLayer.html">layoutLayer</a></span>(</a>
<a class="sourceLine" id="cb2-29" data-line-number="29">  <span class="dt">title =</span> <span class="st">"Population Distribution in Martinique"</span>, </a>
<a class="sourceLine" id="cb2-30" data-line-number="30">  <span class="dt">sources =</span> <span class="st">"INSEE 2016"</span>,  </a>
<a class="sourceLine" id="cb2-31" data-line-number="31">  <span class="dt">author =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(<span class="st">"cartography "</span>, <span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/packageDescription">packageVersion</a></span>(<span class="st">"cartography"</span>)), </a>
<a class="sourceLine" id="cb2-32" data-line-number="32">  <span class="dt">frame =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb2-33" data-line-number="33">  <span class="dt">north =</span> <span class="ot">FALSE</span>, </a>
<a class="sourceLine" id="cb2-34" data-line-number="34">  <span class="dt">tabtitle =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb2-35" data-line-number="35">) </a>
<a class="sourceLine" id="cb2-36" data-line-number="36"></a>
<a class="sourceLine" id="cb2-37" data-line-number="37"><span class="kw"><a href="../reference/north.html">north</a></span>(<span class="dt">pos =</span> <span class="st">"topleft"</span>)</a></code></pre></div>
<p><img src="cartography_files/figure-html/choroMap-1.png" width="360"></p>
</div>
<div id="base-map-and-proportional-symbols" class="section level2">
<h2 class="hasAnchor">
<a href="#base-map-and-proportional-symbols" class="anchor"></a>Base Map and Proportional Symbols</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">## Plot OpenStreetMap tiles as basemap</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co"># Download the tiles, nuts0.spdf extent</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co"># mtq.osm &lt;- getTiles(x = mtq, type = "osm", zoom = 11, crop = TRUE)</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co"># # Plot the tiles</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co"># tilesLayer(mtq.osm)</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co"># plot communes (only borders are plotted)</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/plot">plot</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_geometry">st_geometry</a></span>(mtq), <span class="dt">col =</span> <span class="ot">NA</span>, <span class="dt">border =</span> <span class="st">"grey"</span>, <span class="dt">add=</span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co"># Plot communes population</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="kw"><a href="../reference/propSymbolsLayer.html">propSymbolsLayer</a></span>(</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">  <span class="dt">x =</span> mtq,</a>
<a class="sourceLine" id="cb3-11" data-line-number="11">  <span class="dt">var =</span> <span class="st">"P13_POP"</span>,</a>
<a class="sourceLine" id="cb3-12" data-line-number="12">  <span class="dt">inches =</span> <span class="fl">0.4</span>,</a>
<a class="sourceLine" id="cb3-13" data-line-number="13">  <span class="dt">symbols =</span> <span class="st">"circle"</span>,</a>
<a class="sourceLine" id="cb3-14" data-line-number="14">  <span class="dt">col =</span> <span class="st">"brown4"</span>,</a>
<a class="sourceLine" id="cb3-15" data-line-number="15">  <span class="dt">legend.pos =</span> <span class="st">"topright"</span>,</a>
<a class="sourceLine" id="cb3-16" data-line-number="16">  <span class="dt">legend.title.txt =</span> <span class="st">"Total population"</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17">)</a>
<a class="sourceLine" id="cb3-18" data-line-number="18"></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="kw"><a href="../reference/layoutLayer.html">layoutLayer</a></span>(</a>
<a class="sourceLine" id="cb3-20" data-line-number="20">  <span class="dt">title =</span> <span class="st">"Population Distribution in Martinique"</span>,</a>
<a class="sourceLine" id="cb3-21" data-line-number="21">  <span class="dt">sources =</span> <span class="st">"INSEE 2016 - © OpenStreetMap contributors.</span><span class="ch">\n</span><span class="st">Tiles style under CC BY-SA, www.openstreetmap.org/copyright."</span>,</a>
<a class="sourceLine" id="cb3-22" data-line-number="22">  <span class="dt">author =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(<span class="st">"cartography "</span>, <span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/packageDescription">packageVersion</a></span>(<span class="st">"cartography"</span>)),</a>
<a class="sourceLine" id="cb3-23" data-line-number="23">  <span class="dt">frame =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb3-24" data-line-number="24">  <span class="dt">north =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb3-25" data-line-number="25">  <span class="dt">tabtitle =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb3-26" data-line-number="26">)</a>
<a class="sourceLine" id="cb3-27" data-line-number="27"></a>
<a class="sourceLine" id="cb3-28" data-line-number="28"><span class="kw"><a href="../reference/north.html">north</a></span>(<span class="dt">pos =</span> <span class="st">"topleft"</span>)</a></code></pre></div>
<p><img src="cartography_files/figure-html/propMap-1.png" width="360"></p>
</div>
<div id="isopleth-map" class="section level2">
<h2 class="hasAnchor">
<a href="#isopleth-map" class="anchor"></a>Isopleth Map</h2>
<p>Unlike choropleth maps, which represent data as discrete values, isopleth maps are based on the assumption that the phenomenon to be represented has a continuous distribution. These maps use a spatial interaction modeling approach which aims to compute indicators based on stock values weighted by distance (Stewart 1942). It allows a spatial representation of the phenomenon independent from the initial heterogeneity of the territorial division. The result is easy to read and can be considered as a bypassing of the Modifiable Areal Unit Problem (MAUP) (Openshaw and Taylor 1979).</p>
<p>In cartography, the smoothLayer function, that heavily depends on the SpatialPosition (Giraud and Commenges 2016) package, allow to compute quickly these maps. The function takes as inputs a marked point layer and a set of parameters (a spatial interaction function and its parameters) and outputs an isopleth map layer (figure 6).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(sf)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(cartography)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co"># path to the ESRI Shapefile embedded in cartography</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4">path_to_file &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"shape/martinique.shp"</span>, <span class="dt">package=</span><span class="st">"cartography"</span>)</a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co"># import the Shapefile to a sf object</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6">mtq &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_read">st_read</a></span>(<span class="dt">dsn =</span> path_to_file, <span class="dt">quiet =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/options">options</a></span>(<span class="dt">scipen =</span> <span class="dv">6</span>)</a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/plot">plot</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_geometry">st_geometry</a></span>(mtq), <span class="dt">col =</span> <span class="ot">NA</span>, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">bg =</span> <span class="st">"lightblue1"</span>)</a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="kw"><a href="../reference/smoothLayer.html">smoothLayer</a></span>(</a>
<a class="sourceLine" id="cb4-10" data-line-number="10">  <span class="dt">x =</span> mtq, </a>
<a class="sourceLine" id="cb4-11" data-line-number="11">  <span class="dt">var =</span> <span class="st">'P13_POP'</span>,</a>
<a class="sourceLine" id="cb4-12" data-line-number="12">  <span class="dt">span =</span> <span class="dv">4000</span>, </a>
<a class="sourceLine" id="cb4-13" data-line-number="13">  <span class="dt">beta =</span> <span class="dv">2</span>, </a>
<a class="sourceLine" id="cb4-14" data-line-number="14">  <span class="dt">breaks =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">0</span>,<span class="dv">5000</span>,<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/seq">seq</a></span>(<span class="dv">10000</span>,<span class="dv">100000</span>,<span class="dv">10000</span>),<span class="dv">105700</span> ),</a>
<a class="sourceLine" id="cb4-15" data-line-number="15">  <span class="dt">mask =</span> mtq, </a>
<a class="sourceLine" id="cb4-16" data-line-number="16">  <span class="dt">border =</span> <span class="st">"grey"</span>,</a>
<a class="sourceLine" id="cb4-17" data-line-number="17">  <span class="dt">lwd =</span> <span class="fl">0.2</span>,</a>
<a class="sourceLine" id="cb4-18" data-line-number="18">  <span class="dt">col =</span> <span class="kw"><a href="../reference/carto.pal.html">carto.pal</a></span>(<span class="dt">pal1 =</span> <span class="st">'brown.pal'</span>, <span class="dt">n1 =</span> <span class="dv">12</span>),</a>
<a class="sourceLine" id="cb4-19" data-line-number="19">  <span class="dt">legend.title.txt =</span> <span class="st">"Population</span><span class="ch">\n</span><span class="st">Potential"</span>,</a>
<a class="sourceLine" id="cb4-20" data-line-number="20">  <span class="dt">legend.pos =</span> <span class="st">"topright"</span>, <span class="dt">add=</span><span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb4-21" data-line-number="21">)</a>
<a class="sourceLine" id="cb4-22" data-line-number="22"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/text">text</a></span>(</a>
<a class="sourceLine" id="cb4-23" data-line-number="23">  <span class="dt">x =</span> <span class="dv">692582</span>, <span class="dt">y =</span> <span class="dv">1611478</span>, </a>
<a class="sourceLine" id="cb4-24" data-line-number="24">  <span class="dt">labels =</span> <span class="st">"Distance function:</span><span class="ch">\n</span><span class="st">- type = exponential</span><span class="ch">\n</span><span class="st">- beta = 2</span><span class="ch">\n</span><span class="st">- span = 4 km"</span>, </a>
<a class="sourceLine" id="cb4-25" data-line-number="25">  <span class="dt">cex =</span> <span class="fl">0.8</span>, <span class="dt">adj =</span> <span class="dv">0</span>, <span class="dt">font =</span> <span class="dv">3</span></a>
<a class="sourceLine" id="cb4-26" data-line-number="26">)</a>
<a class="sourceLine" id="cb4-27" data-line-number="27"><span class="kw"><a href="../reference/layoutLayer.html">layoutLayer</a></span>(</a>
<a class="sourceLine" id="cb4-28" data-line-number="28">  <span class="dt">title =</span> <span class="st">"Population Distribution in Martinique"</span>,</a>
<a class="sourceLine" id="cb4-29" data-line-number="29">  <span class="dt">sources =</span> <span class="st">"INSEE 2016"</span>,</a>
<a class="sourceLine" id="cb4-30" data-line-number="30">  <span class="dt">author =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(<span class="st">"cartography "</span>, <span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/packageDescription">packageVersion</a></span>(<span class="st">"cartography"</span>)),</a>
<a class="sourceLine" id="cb4-31" data-line-number="31">  <span class="dt">frame =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb4-32" data-line-number="32">  <span class="dt">north =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb4-33" data-line-number="33">  <span class="dt">tabtitle =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb4-34" data-line-number="34">)</a>
<a class="sourceLine" id="cb4-35" data-line-number="35"></a>
<a class="sourceLine" id="cb4-36" data-line-number="36"><span class="kw"><a href="../reference/north.html">north</a></span>(<span class="dt">pos =</span> <span class="st">"topleft"</span>)</a></code></pre></div>
<p><img src="cartography_files/figure-html/isopleth-1.png" width="360"></p>
</div>
<div id="grid-map" class="section level2">
<h2 class="hasAnchor">
<a href="#grid-map" class="anchor"></a>Grid Map</h2>
<p>The grid-cell method is an option to overcome the arbitrariness and irregularity of administrative division. It highlights the main trends in the data spatial distribution, splitting the territory in regular blocks. Statistical values are distributed over a regular grid. Cell values are discretized and then displayed in areas of color. The principle adopted here is to set each cell’s value with a proportion of the initial geometrical units it overlay (share of intersected area).</p>
<p>In cartography the map process relies on three functions. getGridLayer builds a regular grid (squares or hexagons) based on a spatial object and provide a table of surface intersections. getGridLayer computes data to match the grid layer according to the surface intersections. Eventually, choroLayer uses the grid and data to display a choropleth map (figure 4).</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(sf)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(cartography)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co"># path to the ESRI Shapefile embedded in cartography</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4">path_to_file &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"shape/martinique.shp"</span>, <span class="dt">package=</span><span class="st">"cartography"</span>)</a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co"># import the Shapefile to a sf object</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6">mtq &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_read">st_read</a></span>(<span class="dt">dsn =</span> path_to_file, <span class="dt">quiet =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb5-7" data-line-number="7"></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co"># Create a grid layer</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9">mygrid &lt;-<span class="st"> </span><span class="kw"><a href="../reference/getGridLayer.html">getGridLayer</a></span>(</a>
<a class="sourceLine" id="cb5-10" data-line-number="10">  <span class="dt">x =</span> mtq, </a>
<a class="sourceLine" id="cb5-11" data-line-number="11">  <span class="dt">cellsize =</span> (<span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/median">median</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/geos_measures">st_area</a></span>(mtq))), </a>
<a class="sourceLine" id="cb5-12" data-line-number="12">  <span class="dt">var =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"C13_POP"</span>),</a>
<a class="sourceLine" id="cb5-13" data-line-number="13">  <span class="dt">type =</span> <span class="st">"hexagonal"</span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14">)</a>
<a class="sourceLine" id="cb5-15" data-line-number="15"></a>
<a class="sourceLine" id="cb5-16" data-line-number="16"><span class="co"># Compute population density in people per km2</span></a>
<a class="sourceLine" id="cb5-17" data-line-number="17">mygrid<span class="op">$</span>POP_DENS &lt;-<span class="st"> </span><span class="fl">1e6</span> <span class="op">*</span><span class="st"> </span>mygrid<span class="op">$</span>C13_POP <span class="op">/</span><span class="st"> </span>mygrid<span class="op">$</span>gridarea</a>
<a class="sourceLine" id="cb5-18" data-line-number="18"></a>
<a class="sourceLine" id="cb5-19" data-line-number="19"><span class="co"># Set a custom color palette</span></a>
<a class="sourceLine" id="cb5-20" data-line-number="20">cols &lt;-<span class="st"> </span><span class="kw"><a href="../reference/carto.pal.html">carto.pal</a></span>(<span class="dt">pal1 =</span> <span class="st">"sand.pal"</span>, <span class="dt">n1 =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb5-21" data-line-number="21"><span class="co"># plot communes (only the backgroung color is plotted)</span></a>
<a class="sourceLine" id="cb5-22" data-line-number="22"><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/plot">plot</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_geometry">st_geometry</a></span>(mtq), <span class="dt">col =</span> <span class="ot">NA</span>, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">bg =</span> <span class="st">"lightblue1"</span>)</a>
<a class="sourceLine" id="cb5-23" data-line-number="23"><span class="co"># Plot the population density</span></a>
<a class="sourceLine" id="cb5-24" data-line-number="24"><span class="kw"><a href="../reference/choroLayer.html">choroLayer</a></span>(</a>
<a class="sourceLine" id="cb5-25" data-line-number="25">  <span class="dt">x =</span> mygrid, </a>
<a class="sourceLine" id="cb5-26" data-line-number="26">  <span class="dt">var =</span> <span class="st">"POP_DENS"</span>,</a>
<a class="sourceLine" id="cb5-27" data-line-number="27">  <span class="dt">method =</span> <span class="st">"geom"</span>,</a>
<a class="sourceLine" id="cb5-28" data-line-number="28">  <span class="dt">nclass=</span><span class="dv">5</span>,</a>
<a class="sourceLine" id="cb5-29" data-line-number="29">  <span class="dt">col =</span> cols,</a>
<a class="sourceLine" id="cb5-30" data-line-number="30">  <span class="dt">border =</span> <span class="st">"grey80"</span>, </a>
<a class="sourceLine" id="cb5-31" data-line-number="31">  <span class="dt">lwd =</span> <span class="fl">0.5</span>,</a>
<a class="sourceLine" id="cb5-32" data-line-number="32">  <span class="dt">legend.pos =</span> <span class="st">"topright"</span>, </a>
<a class="sourceLine" id="cb5-33" data-line-number="33">  <span class="dt">legend.title.txt =</span> <span class="st">"Population Density</span><span class="ch">\n</span><span class="st">(people per km2)"</span>,</a>
<a class="sourceLine" id="cb5-34" data-line-number="34">  <span class="dt">add =</span> T</a>
<a class="sourceLine" id="cb5-35" data-line-number="35">) </a>
<a class="sourceLine" id="cb5-36" data-line-number="36"><span class="kw"><a href="../reference/layoutLayer.html">layoutLayer</a></span>(</a>
<a class="sourceLine" id="cb5-37" data-line-number="37">  <span class="dt">title =</span> <span class="st">"Population Distribution in Martinique"</span>, </a>
<a class="sourceLine" id="cb5-38" data-line-number="38">  <span class="dt">sources =</span> <span class="st">"INSEE 2016"</span>,  </a>
<a class="sourceLine" id="cb5-39" data-line-number="39">  <span class="dt">author =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(<span class="st">"cartography "</span>, <span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/packageDescription">packageVersion</a></span>(<span class="st">"cartography"</span>)), </a>
<a class="sourceLine" id="cb5-40" data-line-number="40">  <span class="dt">frame =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb5-41" data-line-number="41">  <span class="dt">north =</span> <span class="ot">FALSE</span>, </a>
<a class="sourceLine" id="cb5-42" data-line-number="42">  <span class="dt">tabtitle =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb5-43" data-line-number="43">) </a></code></pre></div>
<p><img src="cartography_files/figure-html/grid-1.png" width="360"></p>
</div>
<div id="discontinuities" class="section level2">
<h2 class="hasAnchor">
<a href="#discontinuities" class="anchor"></a>Discontinuities</h2>
<p>Discontinuities maps are based on the variation of a phenomena between contiguous administrative units. This kind of representation does not focus on homogeneous zones, but rather on spatial breaks. On the map, discontinuity intensity is expressed by the borders’ thickness.</p>
<p>The first step to build these maps is to extracts borders between units. The second step is to compute a discontinuity measure (either a ratio or an absolute difference). The third step is to display it on a map using the size visual variable. Combine these discontinuities with a choropleth representation helps to understand the discontinuity direction (which one of two regions has the higher value).</p>
<p>In cartography, getBorders is used to build a spatial object of borders between units. Each resulting borders contains the ids of its two neighboring units. It is also possible to complement these borders by the getOuterBorders function that can compute borders between non-contiguous units (maritime borders). discLayer function compute and display discontinuities, the line widths reflect the ratio or the absolute difference between values of an indicator in two neighboring units. Of course, the discontinuities layer can be associate with a choropleth layer (choroLayer) (figure 5).</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(sf)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(cartography)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co"># path to the ESRI Shapefile embedded in cartography</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4">path_to_file &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"shape/martinique.shp"</span>, <span class="dt">package=</span><span class="st">"cartography"</span>)</a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co"># import the Shapefile to a sf object</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6">mtq &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_read">st_read</a></span>(<span class="dt">dsn =</span> path_to_file, <span class="dt">quiet =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb6-7" data-line-number="7"></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co"># Compute the population density (inhab./km2) using sf::st_area()</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9">mtq<span class="op">$</span>POP_DENS &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/numeric">as.numeric</a></span>(<span class="fl">1e6</span> <span class="op">*</span><span class="st"> </span>mtq<span class="op">$</span>P13_POP <span class="op">/</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/geos_measures">st_area</a></span>(mtq))</a>
<a class="sourceLine" id="cb6-10" data-line-number="10"></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co"># Get a SpatialLinesDataFrame of countries borders</span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12">mtq.contig &lt;-<span class="st"> </span><span class="kw"><a href="../reference/getBorders.html">getBorders</a></span>(mtq)</a>
<a class="sourceLine" id="cb6-13" data-line-number="13"></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/plot">plot</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_geometry">st_geometry</a></span>(mtq), <span class="dt">col =</span> <span class="ot">NA</span>, <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">bg =</span> <span class="st">"lightblue1"</span>)</a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="co"># Plot the population density</span></a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="kw"><a href="../reference/choroLayer.html">choroLayer</a></span>(</a>
<a class="sourceLine" id="cb6-17" data-line-number="17">  <span class="dt">x =</span> mtq, </a>
<a class="sourceLine" id="cb6-18" data-line-number="18">  <span class="dt">var =</span> <span class="st">"POP_DENS"</span>,</a>
<a class="sourceLine" id="cb6-19" data-line-number="19">  <span class="dt">method =</span> <span class="st">"geom"</span>,</a>
<a class="sourceLine" id="cb6-20" data-line-number="20">  <span class="dt">nclass=</span><span class="dv">5</span>,</a>
<a class="sourceLine" id="cb6-21" data-line-number="21">  <span class="dt">col =</span> cols,</a>
<a class="sourceLine" id="cb6-22" data-line-number="22">  <span class="dt">border =</span> <span class="st">"grey80"</span>, </a>
<a class="sourceLine" id="cb6-23" data-line-number="23">  <span class="dt">lwd =</span> <span class="fl">0.5</span>,</a>
<a class="sourceLine" id="cb6-24" data-line-number="24">  <span class="dt">legend.pos =</span> <span class="st">"topright"</span>, </a>
<a class="sourceLine" id="cb6-25" data-line-number="25">  <span class="dt">legend.title.txt =</span> <span class="st">"Population Density</span><span class="ch">\n</span><span class="st">(people per km2)"</span>,</a>
<a class="sourceLine" id="cb6-26" data-line-number="26">  <span class="dt">add =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb6-27" data-line-number="27">)</a>
<a class="sourceLine" id="cb6-28" data-line-number="28"></a>
<a class="sourceLine" id="cb6-29" data-line-number="29"><span class="co"># Plot discontinuities</span></a>
<a class="sourceLine" id="cb6-30" data-line-number="30"><span class="kw"><a href="../reference/discLayer.html">discLayer</a></span>(</a>
<a class="sourceLine" id="cb6-31" data-line-number="31">  <span class="dt">x =</span> mtq.contig, </a>
<a class="sourceLine" id="cb6-32" data-line-number="32">  <span class="dt">df =</span> mtq, </a>
<a class="sourceLine" id="cb6-33" data-line-number="33">  <span class="dt">var =</span> <span class="st">"POP_DENS"</span>,</a>
<a class="sourceLine" id="cb6-34" data-line-number="34">  <span class="dt">type =</span> <span class="st">"rel"</span>, </a>
<a class="sourceLine" id="cb6-35" data-line-number="35">  <span class="dt">method =</span> <span class="st">"geom"</span>, </a>
<a class="sourceLine" id="cb6-36" data-line-number="36">  <span class="dt">nclass =</span> <span class="dv">3</span>,</a>
<a class="sourceLine" id="cb6-37" data-line-number="37">  <span class="dt">threshold =</span> <span class="fl">0.6</span>,</a>
<a class="sourceLine" id="cb6-38" data-line-number="38">  <span class="dt">sizemin =</span> <span class="fl">0.7</span>, </a>
<a class="sourceLine" id="cb6-39" data-line-number="39">  <span class="dt">sizemax =</span> <span class="dv">6</span>, </a>
<a class="sourceLine" id="cb6-40" data-line-number="40">  <span class="dt">col =</span> <span class="st">"red"</span>,</a>
<a class="sourceLine" id="cb6-41" data-line-number="41">  <span class="dt">legend.values.rnd =</span> <span class="dv">1</span>, </a>
<a class="sourceLine" id="cb6-42" data-line-number="42">  <span class="dt">legend.title.txt =</span> <span class="st">"Discontinuities in </span><span class="ch">\n</span><span class="st">GDP per Capita</span><span class="ch">\n</span><span class="st">(relative)"</span>, </a>
<a class="sourceLine" id="cb6-43" data-line-number="43">  <span class="dt">legend.pos =</span> <span class="st">"bottomright"</span>,</a>
<a class="sourceLine" id="cb6-44" data-line-number="44">  <span class="dt">add =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb6-45" data-line-number="45">)</a>
<a class="sourceLine" id="cb6-46" data-line-number="46"></a>
<a class="sourceLine" id="cb6-47" data-line-number="47"><span class="co"># Layout</span></a>
<a class="sourceLine" id="cb6-48" data-line-number="48"><span class="kw"><a href="../reference/layoutLayer.html">layoutLayer</a></span>(</a>
<a class="sourceLine" id="cb6-49" data-line-number="49">  <span class="dt">title =</span> <span class="st">"Wealth Disparities in Europe, 2008"</span>, </a>
<a class="sourceLine" id="cb6-50" data-line-number="50">  <span class="dt">author =</span>  <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(<span class="st">"cartography "</span>, <span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/packageDescription">packageVersion</a></span>(<span class="st">"cartography"</span>)),</a>
<a class="sourceLine" id="cb6-51" data-line-number="51">  <span class="dt">sources =</span> <span class="st">"Source: Eurostat, 2011"</span>, </a>
<a class="sourceLine" id="cb6-52" data-line-number="52">  <span class="dt">frame =</span> <span class="ot">FALSE</span>, </a>
<a class="sourceLine" id="cb6-53" data-line-number="53">  <span class="dt">scale =</span> <span class="dv">500</span>, </a>
<a class="sourceLine" id="cb6-54" data-line-number="54">  <span class="dt">theme =</span> <span class="st">"grey.pal"</span></a>
<a class="sourceLine" id="cb6-55" data-line-number="55">)</a></code></pre></div>
<p><img src="cartography_files/figure-html/discc-1.png" width="360"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#design">Design</a><ul class="nav nav-pills nav-stacked">
<li><a href="#symbology">Symbology</a></li>
      <li><a href="#legends">Legends</a></li>
      <li><a href="#transformations">Transformations</a></li>
      <li><a href="#map-layout">Map Layout</a></li>
      <li><a href="#color-palettes">Color Palettes</a></li>
      </ul>
</li>
      <li>
<a href="#examples-of-thematic-maps">Examples of thematic maps</a><ul class="nav nav-pills nav-stacked">
<li><a href="#label-map">Label Map</a></li>
      <li><a href="#choropleth-map">Choropleth Map</a></li>
      <li><a href="#base-map-and-proportional-symbols">Base Map and Proportional Symbols</a></li>
      <li><a href="#isopleth-map">Isopleth Map</a></li>
      <li><a href="#grid-map">Grid Map</a></li>
      <li><a href="#discontinuities">Discontinuities</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Timothée Giraud, Nicolas Lambert.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
